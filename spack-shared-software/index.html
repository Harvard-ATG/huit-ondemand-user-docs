
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../vscode-app/">
      
      
        <link rel="next" href="../spack-course-shared/">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.32">
    
    
      
        <title>Overview / Global - HUIT Open OnDemand User Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="harvard" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#shared-software-with-spack" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="HUIT Open OnDemand User Documentation" class="md-header__button md-logo" aria-label="HUIT Open OnDemand User Documentation" data-md-component="logo">
      
  <img src="../assets/harvard_shield.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HUIT Open OnDemand User Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview / Global
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="HUIT Open OnDemand User Documentation" class="md-nav__button md-logo" aria-label="HUIT Open OnDemand User Documentation" data-md-component="logo">
      
  <img src="../assets/harvard_shield.svg" alt="logo">

    </a>
    HUIT Open OnDemand User Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../file-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File Management
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../shared-folder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shared Folder
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../terminal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Terminal App
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interactive Apps
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Interactive Apps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../interactive-apps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jupyterlab-spack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JupyterLab (Spack)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote-desktop-ros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Desktop
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vscode-app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code Server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Software (Spack)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Software (Spack)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Overview / Global
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Overview / Global
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#make-the-spack-command-available" class="md-nav__link">
    <span class="md-ellipsis">
      Make the spack command available
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-packages-with-spack" class="md-nav__link">
    <span class="md-ellipsis">
      Load packages with spack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-in-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Use in scripts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#downstream-installations" class="md-nav__link">
    <span class="md-ellipsis">
      Downstream installations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spack-course-shared/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course level
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../spack-local/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Personal install
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../package-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package management
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#make-the-spack-command-available" class="md-nav__link">
    <span class="md-ellipsis">
      Make the spack command available
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-packages-with-spack" class="md-nav__link">
    <span class="md-ellipsis">
      Load packages with spack
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-in-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Use in scripts
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#downstream-installations" class="md-nav__link">
    <span class="md-ellipsis">
      Downstream installations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="shared-software-with-spack">Shared Software with Spack</h1>
<p>Our configuration of OnDemand uses a centrally configured repository of command-line software managed by and available through <a href="https://spack.readthedocs.io/en/latest/index.html">Spack</a>. We provide some pre-installed packages, but if you find that you need some software that is available through Spack, it can be installed to that shared location on request.</p>
<h2 id="make-the-spack-command-available">Make the <code>spack</code> command available</h2>
<p>In order to avoid interfering with any other configurations that you may want to set up, Spack is not configured in your terminal by default. Rather, it must be activated with the following command (note the dot at the start, and be sure to include that with the rest):</p>
<div class="highlight"><pre><span></span><code>.<span class="w"> </span>/shared/spack/share/spack/setup-env.sh
</code></pre></div>
<p>This will make the <code>spack</code> command available in your terminal session. If you want to use the shared <code>spack</code> command in every session, you can add this line to your <code>~/.bashrc</code> file.</p>
<p>The Code Server app runs using a Spack package, so the shared <code>spack</code> command is available by default in the terminal inside the VS Code interface.</p>
<h2 id="load-packages-with-spack">Load packages with <code>spack</code></h2>
<p>With the <code>spack</code> command enabled, you can now load packages that have been installed to the shared location. You can list all of the packages available with <code>spack find</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>spack<span class="w"> </span>find
--<span class="w"> </span>linux-amzn2-skylake_avx512<span class="w"> </span>/<span class="w"> </span>gcc@7.3.1<span class="w"> </span>-----------------------
berkeley-db@18.1.40<span class="w">                 </span>curl@8.4.0<span class="w">      </span>htslib@1.17<span class="w">         </span>libdivsufsort@2.0.1<span class="w">  </span>libtool@2.4.7<span class="w">     </span>nghttp2@1.57.0<span class="w">       </span>r@4.3.0<span class="w">               </span>unzip@6.0
boost@1.83.0<span class="w">                        </span>curl@8.4.0<span class="w">      </span>hwloc@2.9.1<span class="w">         </span>libffi@3.4.4<span class="w">         </span>libunistring@1.1<span class="w">  </span>openjdk@11.0.20.1_1<span class="w">  </span>readline@8.2<span class="w">          </span>util-linux-uuid@2.38.1
bowtie@1.3.1<span class="w">                        </span>diffutils@3.9<span class="w">   </span>icu4c@67.1<span class="w">          </span>libgff@2.0.0<span class="w">         </span>libxcrypt@4.4.35<span class="w">  </span>openssl@3.1.3<span class="w">        </span>salmon@1.10.2<span class="w">         </span>util-macros@1.19.3
bzip2@1.0.8<span class="w">                         </span>expat@2.5.0<span class="w">     </span>intel-pin@3.27<span class="w">      </span>libiconv@1.17<span class="w">        </span>libxml2@2.10.3<span class="w">    </span>pcre2@10.42<span class="w">          </span>sqlite@3.43.2<span class="w">         </span>which@2.21
ca-certificates-mozilla@2023-05-30<span class="w">  </span>gdbm@1.23<span class="w">       </span>intel-tbb@2021.9.0<span class="w">  </span>libidn2@2.3.4<span class="w">        </span>likwid@5.2.2<span class="w">      </span>perl@5.38.0<span class="w">          </span>staden-io-lib@1.14.8<span class="w">  </span>xz@5.4.1
cereal@1.3.2<span class="w">                        </span>gettext@0.22.3<span class="w">  </span>jemalloc@5.3.0<span class="w">      </span>libmd@1.0.4<span class="w">          </span>lua@5.4.4<span class="w">         </span>pigz@2.7<span class="w">             </span>star@2.7.10b<span class="w">          </span>zlib-ng@2.1.4
cmake@3.27.7<span class="w">                        </span>gmake@4.4.1<span class="w">     </span>libbsd@0.11.7<span class="w">       </span>libpciaccess@0.17<span class="w">    </span>m4@1.4.19<span class="w">         </span>pkgconf@1.9.5<span class="w">        </span>tar@1.34<span class="w">              </span>zstd@1.5.5
code-server@4.12.0<span class="w">                  </span>gzip@1.12<span class="w">       </span>libdeflate@1.18<span class="w">     </span>libsigsegv@2.14<span class="w">      </span>ncurses@6.4<span class="w">       </span>python@3.11.6<span class="w">        </span>texinfo@7.0.3
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">63</span><span class="w"> </span>installed<span class="w"> </span>packages
</code></pre></div>
<p>You can load packages with <code>spack load</code> followed by the name of the package. Once you have the package loaded, you'll be able to use the commands that it enables. As an example:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>which<span class="w"> </span>likwid-perfctr
/usr/bin/which:<span class="w"> </span>no<span class="w"> </span>likwid-perfctr<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">(</span>/opt/amazon/openmpi/bin:...<span class="o">)</span>
$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>likwid
$<span class="w"> </span>which<span class="w"> </span>likwid-perfctr
/shared/spack/opt/spack/linux-amzn2-skylake_avx512/gcc-7.3.1/likwid-5.2.2-aayxcqg6nj5zykdozo5z4yubzjevxhhm/bin/likwid-perfctr
</code></pre></div>
<h2 id="use-in-scripts">Use in scripts</h2>
<p>If you are preparing a batch job, be sure to include a line to make the <code>spack</code> command available, and to load the packages that your job needs.</p>
<h2 id="downstream-installations">Downstream installations</h2>
<p>Spack is self-contained in a single folder, meaning you can install it yourself
in your home directory, or in a course shared folder. This allows you to add
your own software without having to request it from Academic Technology and wait
for it to be set up. Both of these options are described in more detail in the
<a href="../spack-course-shared/">course-level documentation</a> and the <a href="../spack-local/">personal spack
installation documentation</a>. In both cases, you can set the
global installation as an "upstream" installation, meaning that you don't have
to waste time and effort installing packages that are already set up globally,
while still having the power to install your own software.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.471ce7a9.min.js"></script>
      
    
  </body>
</html>